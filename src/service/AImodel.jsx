import { GoogleGenerativeAI } from "@google/generative-ai";

  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseModalities: [
    ],
    responseMimeType: "application/json",
  };
  

  export  const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "hello"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Hello! How can I help you today?\n"},
          ],
        },
        {
          role: "user",
          parts: [
            {text: "\nGenerate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time to travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON-formatted travel plan for a couple on a cheap budget visiting Las Vegas for 3 days. I've tried to balance cost-effectiveness with experiencing the essence of Vegas. Please note that prices are *estimates* and can fluctuate wildly depending on the time of year, booking in advance, and special deals.  Always check current prices and availability before booking.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap/Budget-Friendly\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 45,\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/2a/42/bb/32/exterior.jpg?w=1200&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1266,\n        \"longitude\": -115.1657\n      },\n      \"rating\": 3.5,\n      \"description\": \"An older hotel on the Strip, Circus Circus offers very affordable rates, particularly during weekdays. It features a circus-themed atmosphere, the Adventuredome indoor theme park (extra cost), and several budget-friendly dining options.\"\n    },\n    {\n      \"hotelName\": \"Stratosphere Hotel, Casino & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": 50,\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/22/01/ff/6c/stratisphere-hotel-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1474,\n        \"longitude\": -115.1555\n      },\n      \"rating\": 3.5,\n      \"description\": \"Located at the northern end of the Strip, the Stratosphere provides great views from its tower (access fee applies). Rooms are generally cheaper, but you'll need to factor in transportation to reach the main attractions.  Consider the happy hour specials for drinks at the top.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": 60,\n      \"hotelImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/2a/83/66/c4/excalibur-hotel-and-casino.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0984,\n        \"longitude\": -115.1744\n      },\n      \"rating\": 3.7,\n      \"description\": \"A castle-themed hotel, Excalibur offers reasonable prices and is well-located at the southern end of the Strip.  It's connected to Luxor and Mandalay Bay by free trams, making it easy to explore nearby attractions.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the South Strip & Free Attractions\",\n      \"plan\": [\n        {\n          \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign for photo opportunity. Arrive early to avoid crowds.\",\n          \"placeImageUrl\": \"https://media.cntraveler.com/photos/5a9141814b0318465ba9b204/master/w_1600,c_limit/Welcome-Sign-GettyImages-174917261.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0829,\n            \"longitude\": -115.1736\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToVisit\": \"Early Morning (8:00 AM - 9:00 AM)\",\n          \"travelTimeFromHotel\": \"10-20 minutes (depending on hotel and transportation)\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Free, stunning floral displays that change seasonally.\",\n          \"placeImageUrl\": \"https://www.wynnlasvegas.com/content/dam/wynnlv/photos/Homepage/Homepage_Carousel/WL_HP_Carousel_Consertvatory_Gardens_1600x720.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1744\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToVisit\": \"Morning (10:00 AM - 11:00 AM)\",\n          \"travelTimeFromHotel\": \"15-25 minutes (depending on hotel and transportation)\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountain Show\",\n          \"placeDetails\": \"Spectacular water show choreographed to music.  Runs every 30 minutes in the afternoon and every 15 minutes in the evening.\",\n          \"placeImageUrl\": \"https://assets.simpleviewinc.com/simpleview/image/upload/c_fill,h_600,q_75,w_800/v1/clients/lasvegas/20160613_DNC_Bellagio_Fountains_6159_crop_efb04d54-46f8-4285-9b5e-f1e9356e5b9c.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1744\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToVisit\": \"Afternoon/Evening (Anytime after noon, repeat viewings)\",\n          \"travelTimeFromHotel\": \"Walkable from Conservatory\"\n        },\n        {\n          \"placeName\": \"Walk the Las Vegas Strip\",\n          \"placeDetails\": \"Soak in the atmosphere, people-watch, and window shop.  Enjoy free street performers.\",\n          \"placeImageUrl\": \"https://assets.simpleviewinc.com/simpleview/image/upload/c_fill,h_600,q_75,w_800/v1/clients/lasvegas/strip_0367_f562d8e3-2338-4420-bc12-ef85cd12a55d.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1728\n          },\n          \"ticketPricing\": \"Free (unless you gamble or buy something!)\",\n          \"timeToVisit\": \"Anytime\",\n          \"travelTimeFromHotel\": \"Depending on hotel location\"\n        },\n        {\n          \"placeName\": \"Free Show at the Mirage Volcano\",\n          \"placeDetails\": \"Volcanic eruptions set to music and lights.\",\n          \"placeImageUrl\": \"https://www.wynnlasvegas.com/content/dam/wynnlv/photos/Property/the-mirage/mirage-volcano/Mirage-Volcano.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1212,\n            \"longitude\": -115.1754\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToVisit\": \"Evening (8:00 PM, 9:00 PM, 10:00 PM)\",\n          \"travelTimeFromHotel\": \"Walkable from Bellagio area\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Vegas & Budget Eats\",\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Light and sound show on a massive LED canopy. Street performers, zip lines (extra cost).\",\n          \"placeImageUrl\": \"https://assets.simpleviewinc.com/simpleview/image/upload/c_fill,h_600,q_75,w_800/v1/clients/lasvegas/FREMONT_STREET_EXPERIENCE__IMG_3091_a514e178-72c3-4c88-9f9d-ddc26b203333.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1423\n          },\n          \"ticketPricing\": \"Free (for the light show and atmosphere)\",\n          \"timeToVisit\": \"Evening (After dark for the Viva Vision light show)\",\n          \"travelTimeFromHotel\": \"30-45 minutes (bus or rideshare)\"\n        },\n        {\n          \"placeName\": \"Downtown Murals\",\n          \"placeDetails\": \"Explore the vibrant street art scene in the Arts District near Fremont Street.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp-content/uploads/2023/01/art-district-las-vegas-dtlv.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1607,\n            \"longitude\": -115.1487\n          },\n          \"ticketPricing\": \"Free\",\n          \"timeToVisit\": \"Afternoon\",\n          \"travelTimeFromHotel\": \"Bus from Strip Hotels\"\n        },\n        {\n          \"placeName\": \"SlotZilla Zip Line\",\n          \"placeDetails\": \"Zip line experience over Fremont Street. Two options: lower zip line (Zoomline) and higher zip line (Superhero Zoom).\",\n          \"placeImageUrl\": \"https://fremontstreetexperience.com/wp-content/uploads/2022/06/hero-slotzilla.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1702,\n            \"longitude\": -115.1424\n          },\n          \"ticketPricing\": \"Approx. $39-$59 per person\",\n          \"timeToVisit\": \"Evening\",\n          \"travelTimeFromHotel\": \"located in the Downtown\"\n        },\n        {\n          \"placeName\": \"Heart Attack Grill\",\n          \"placeDetails\": \"A restaurant with very high-calorie food.  Be warned!\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a7/Heart_Attack_Grill_%28Las_Vegas%2C_Nevada%29.jpg/640px-Heart_Attack_Grill_%28Las_Vegas%2C_Nevada%29.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1706,\n            \"longitude\": -115.1421\n          },\n          \"ticketPricing\": \"Food Cost\",\n          \"timeToVisit\": \"lunch/Dinner\",\n          \"travelTimeFromHotel\": \"located in the Downtown\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"High Roller & Departure\",\n      \"plan\": [\n        {\n          \"placeName\": \"High Roller Observation Wheel\",\n          \"placeDetails\": \"30-minute ride with panoramic views of the city.\",\n          \"placeImageUrl\": \"https://caesars.com/content/dam/clv/amenities/high-roller/high-roller-ammenities-desktop-2880x1620.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1163,\n            \"longitude\": -115.1693\n          },\n          \"ticketPricing\": \"Variable, check for online deals.  Expect $25-$40 per person.\",\n          \"timeToVisit\": \"Morning/Early Afternoon (to avoid evening crowds and higher prices)\",\n          \"travelTimeFromHotel\": \"10-20 minutes (depending on hotel and transportation)\"\n        },\n        {\n          \"placeName\": \"LINQ Promenade\",\n          \"placeDetails\": \"Outdoor shopping, dining, and entertainment district leading to the High Roller.\",\n          \"placeImageUrl\": \"https://media-cdn.tripadvisor.com/media/photo-s/0f/fa/00/9e/the-linq-promenade.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1168,\n            \"longitude\": -115.1691\n          },\n          \"ticketPricing\": \"Free (window shopping, food cost)\",\n          \"timeToVisit\": \"Before/After High Roller\",\n          \"travelTimeFromHotel\": \"Walkable from High Roller\"\n        },\n        {\n          \"placeName\": \"Check Out\",\n          \"placeDetails\": \"Prepare for Departure\",\n          \"placeImageUrl\": \"\",\n          \"geoCoordinates\": {\n          },\n          \"ticketPricing\": \"\",\n          \"timeToVisit\": \"11 AM\",\n          \"travelTimeFromHotel\": \"\"\n        }\n      ]\n    }\n  },\n  \"budgetTips\": [\n    \"Take advantage of free attractions and shows.\",\n    \"Use public transportation (buses) or rideshares sparingly. Walking is often the best option on the Strip.\",\n    \"Look for happy hour specials for drinks and appetizers.\",\n    \"Consider buying groceries for breakfast and snacks to save on food costs.\",\n    \"Avoid gambling beyond your budget.\",\n    \"Look for hotel deals and discounts online.\",\n    \"Travel during the off-season (summer can be very hot and crowded).\"\n  ]\n}\n```\n\n**Important Notes:**\n\n*   **Pricing:**  Hotel and ticket prices are subject to change and can vary significantly. Book in advance, especially during peak seasons.  Check websites like Kayak, Expedia, and directly on the hotel websites for the best deals.\n*   **Transportation:** Las Vegas can be spread out. Consider using the Deuce bus for transportation along the Strip and downtown. Walking is also a great option if the weather is good, especially on the Strip. Rideshares (Uber/Lyft) are readily available, but costs can add up.\n*   **Food:**  Look for budget-friendly dining options off the Strip. Fast food, food courts, and grocery stores can help you save money.  Consider sharing meals.\n*   **Flexibility:** This is just a suggested itinerary. Feel free to adjust it to your interests and preferences.\n*   **Safety:** Be aware of your surroundings, especially at night.\n*   **Reservations:** Make reservations for shows and attractions in advance, especially during peak season.\n*   **Weather:** Las Vegas can be very hot in the summer. Pack accordingly and stay hydrated.\n\nRemember to double-check all prices and availability before your trip! Have a great time in Vegas!\n"},
          ],
        },
      ],
    });
  